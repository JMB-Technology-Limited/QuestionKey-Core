{#
# @license 3-clause BSD
# @link https://github.com/QuestionKey/QuestionKey-Core
#}

{% extends 'QuestionKeyBundle::base.html.twig' %}

{% block title %}Stats for {{  tree.titleAdmin }} | Admin{%  endblock %}

{% block main %}

    <ol class="breadcrumb">
        <li><a href="{{ path('questionkey_admin') }}">Admin</a></li>
        <li><a href="{{ path('questionkey_admin_tree_show', {'treeId':tree.publicId }) }}">Tree: {{ tree.titleAdmin}}</a></li>
        <li class="active">Stats</li>
    </ol>


    <section class="">
        <div class="panel panel-default">
            <div class="panel-body">
                <form>
                    From <input type="text" name="from" value="{{  dateRange.from|date('c') }}">
                    To <input type="text" name="to" value="{{  dateRange.to|date('c') }}">
                    <input type="submit" value="Search">
                </form>
            </div>
        </div>

        <table class="table">
            <tr>
                <th>Times Ran</th><td>{{  countTimesRan }}</td>
            </tr>
        </table>

        <div class="panel-body">
            <form action="{{ path('questionkey_admin_tree_stats_series', {'treeId':tree.publicId }) }}">
                <input type="hidden" name="from" value="{{  dateRange.from|date('c') }}">
                <input type="hidden" name="to" value="{{  dateRange.to|date('c') }}">
                View over <select name="interval">
                    <option value="PT1H">1 Hour</option>
                    <option value="PT4H">4 hours</option>
                    <option value="PT12H">12 hours</option>
                    <option value="P1D" selected="selected">1 day</option>
                    <option value="P7D">1 week</option>
                    <option value="P1M">1 month</option>
                    <option value="P3M">3 months</option>
                </select>
                <input type="submit" value="Show">
            </form>
        </div>

    </section>

{% endblock %}
